{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "description": "Analytics schema",
    "required": ["id", "entityId", "entityType", "timeframe"],
    "properties": {
        "id": {
            "type": "string",
            "description": "Unique identifier"
        },
        "entityId": {
            "type": "string",
            "description": "ID of entity being tracked"
        },
        "entityType": {
            "type": "string",
            "enum": ["user", "job", "asset", "global"]
        },
        "timeframe": {
            "type": "string",
            "enum": ["hourly", "daily", "weekly", "monthly"]
        },
        "metrics": {
            "type": "object",
            "properties": {
                "views": { "type": "number" },
                "interactions": { "type": "number" },
                "conversions": { "type": "number" },
                "revenue": { "type": "number" },
                "activeUsers": { "type": "number" }
            }
        },
        "segments": {
            "type": "object",
            "properties": {
                "location": { "type": "object" },
                "device": { "type": "object" },
                "userType": { "type": "object" }
            }
        },
        "startDate": {
            "type": "string",
            "format": "date-time"
        },
        "endDate": {
            "type": "string",
            "format": "date-time"
        }
    }
}
